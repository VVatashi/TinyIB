{% extends 'layout/_html.twig' %}

{% block head %}
  {{ parent() }}

  <link rel="canonical" href="{{ base_url }}/res/{{ parent }}" />
{% endblock %}

{% block content %}
  <main class="{{class is defined ? class ~ ' '}}">
    <form id="delform" action="{{ base_url }}/post/delete" method="post">
      <input type="hidden" name="board" value="{{ config('BOARD') }}" />

      {% for post in posts %}
        {% set postNo = loop.index %}
        {% include 'components/_post.twig' %}
      {% endfor %}
    </form>

    <div id="thread-updater" class="thread-updater content__thread-updater">
      <button class="button thread-updater__update">Get new posts</button>

      <label class="thread-updater__auto-label">
        <input type="checkbox" class="thread-updater__auto-checkbox" />
        <span class="thread-updater__count"></span>
      </label>

      <span class="thread-updater__loader hidden"></span>
      <span class="thread-updater__status"></span>
    </div>

    <div id="thread-updater-ws" class="thread-updater content__thread-updater hidden">
      <span class="thread-updater__status" style="font-size: 0.8em;"></span>
    </div>

    <hr />

    {% include 'components/_posting_form.twig' with {'class': 'content__posting-form'} %}
    {% include 'components/_tools.twig' with {'class': 'content__tools'} %}
    {% include 'components/_nav-left.twig' with {'class': 'content__navigation-left hidden'} %}
    {% include 'components/_nav-right.twig' with {'class': 'content__navigation-right hidden'} %}
  </main>
{% endblock %}

{% block footer_links %}
{% endblock %}
