{% extends 'layout/_html.twig' %}

{% block head %}
  {{ parent() }}

  <link rel="canonical" href="{{ base_url }}{{ this_page ? '/' ~ this_page  }}" />
{% endblock %}

{% block content %}
  <main class="{{class is defined ? class ~ ' '}}">
    {% include 'components/_posting_form.twig' with {'class': 'content__posting-form'} %}

    <article class="thread">
      {% for post in posts %}
        {% if post.parent_id == 0 and not loop.first %}
          </article>
          <hr />
          <article class="thread">
        {% endif %}

        {% include 'components/_post.twig' %}
      {% endfor %}
    </article>

    <hr />

    {% include 'components/_pager.twig' with {'class': 'content__pager'} %}
    {% include 'components/_tools.twig' with {'class': 'content__tools'} %}
    {% include 'components/_nav-left.twig' with {'class': 'content__navigation-left hidden'} %}
    {% include 'components/_nav-right.twig' with {'class': 'content__navigation-right hidden'} %}
  </main>
{% endblock %}

{% block footer_links %}
{% endblock %}
