{% if post.fileType %}
  {% set direct_link = base_url ~ '/src/' ~ post.file %}
{% endif %}

<div class="{{ class is defined ? class ~ ' ' }}file"
  {% if post.thumbWidth > 0 %}
    style="max-width: {{ max(120, post.thumbWidth) }}px;"
  {% endif %}
>
  {% include 'components/_file_info.twig' with {'class': 'post__file-info filesize'} %}

  {% if post.thumbWidth > 0 and post.thumbHeight > 0 %}
    <a class="file__thumbnail thumbnail" id="thumbnail_wrapper_{{ post.id }}"
      href="{{ direct_link }}" target="_blank">
      <img src="{{ base_url }}/thumb/{{ post.thumb }}" alt="{{ post.id }}"
        class="thumbnail__content thumbnail__content_image" id="thumbnail_{{ post.id }}"
        width="{{ post.thumbWidth }}" height="{{ post.thumbHeight }}" />
    </a>
  {% endif %}
</div>
